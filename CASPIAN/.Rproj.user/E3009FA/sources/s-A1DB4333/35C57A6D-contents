bbx <- rgeos::readWKT("POLYGON((5 56, 16 56, 16 46,5 46, 5 56))") 

roads_sub <- rgeos::gIntersection(roads_dataset, bbx)

plot(roads_dataset, col="grey")
plot(border_dataset)


plot(bbx, add=T, lty=2,border="blue")

plot(rivers.cut, add=T, col="blue")


dir_data<-"C:/Users/mbagnara/Dropbox/AlienSpeciesSpread/Data/RailwayTravel"
netw_data<-"ZugzahlenAnalyse" #network layer
railways_shp <- readOGR(dsn=dir_data,layer=netw_data,stringsAsFactors = F)
#nodes_shp <- readOGR(dsn=dir_data,layer="20180209_KnotenNemobfstr",stringsAsFactors = F)

cat("\n Converting coordinates to WGS84")
cat("\n")
railways_shp<-spTransform(railways_shp, CRS("+proj=longlat +datum=WGS84"))
railways_shp@data$ID<-paste(railways_shp@data$Von_Knoten,railways_shp@data$Nach_Knote,sep="_")
#  nodes_shp<-spTransform(nodes_shp, CRS("+proj=longlat +datum=WGS84"))

save(railways_shp,
     #nodes_shp,
     file=file.path(dir_data,"railways_shp.Rdata"))
